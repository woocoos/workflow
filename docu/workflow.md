---
id: workflow
---

woocoos的流程引擎技术采用了标准化的BPMN2.0协议,结合新一代的工作流引擎Temporal,兼具业界标准及稳定性.

## 流程定义

BPMN的协议支持自定义扩展,我们对比了多家的格式协议,最终采用了Camunda 8的扩展方式,包括其比Camunda 7之前的扩展更加标准化.
因此在流程定义工具Camunda Modeler中需要选择 8以上版本.

### 表达式

在Camunda 8以上的定义中,脚本化的方式已经很少见了,这符合我们对用户要求低的需求.
为了解决动态性,引入了[FEEL language](https://learn-dmn-in-15-minutes.com/learn/the-feel-language.html),但该表达式极易上手,对用户不会造成学习难度

## 流程部署

## 流程任务

流程引擎根据流程实例初始化时附带的表单及参与人信息,在流程执行时产生用户任务.

用户任务信息具有:

- 任务信息:
- 任务参与人信息: 委托人(Owner),受理人(Assignee)

一个任务只能有一个受理人(Assignee),可以有多个候选人(CondidateUsers)或者候选组(CondidateGroups).
如果是多候选人且任务为并行,则所有的候选人都会收到待办,并且都可以进行认领成受理人.
如果是多候选人且任务为顺序,则按顺序人接收待办再进行认领处理.

受理人委托其他人操作该任务的时候，受理人就成了委托人,其他人就成了受理人

由于在BPMN流程定义中,采用语义性较好的名称优于ID,因此在流程任务中的用户关系存储的是用户名及组名,需要在用户系统中保证唯一性.
在调用方可以同时将ID或名称传递过来.

### 任务操作

#### 认领
做为任务的相关人,可以对签收该任务,表示用户已经开始处理该任务. 在程序控制过程中,符合一定的条件才可以认领任务:

- 任务在指定了处理人时,其他相关人不能认领,正常也看不到签收的按钮
- 并行任务下,只要在待办人中,都可以认领
- 任务指定了角色组时,只有在角色组中的人才可以认领.